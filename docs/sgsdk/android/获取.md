# SGSDK-Android 获取指南
[SGSDK 发布记录](sgsdk/client/发布记录.md) 

## 1. SGSDK-Android 接入文件
SGSDK-Android v1.0.6 开始，采用新接入方式
SGSDK-Android 接入文件都在提供的 `sgsdk-android-渠道名-版本号.zip` 里。

## 2. SGSDK-Android 获取流程
1. 需求方向确认接入功能后，在后台提供或填写必要参数，即 `sgsdk_config.properties` 文件内的参数。（参考下面的“参数配置说明”）
2. 向 QA 申请 SGSDK-Demo 打包，并验证。
3. QA 验证无误后，向需求方发送正式发布包，即 `sgsdk-android-渠道名-版本号.zip`
4. 接入人员按zip内的文档进行接入。

## 3. 参数配置说明

### 3.1 升级变更说明
> 注：1.0.7开始参数支持可选配置，按照自身渠道所需的参数配置，即无需默认值

从1.0.6.1007开始，以前需要CP二次配置的参数值，现在放在后台申请阶段填写，打包时自动生成在参数配置文件内。（即原来通过Excel等文件另外传递的参数）

> 下述参数，一旦应用使用到对应功能，需要配置真实的一组参数值。如无暂时填写一个默认值【sg-defaultConfig-remove】，下一版本会上线编译插件来适配无参数的状况。

<font color='red'>注：升级1.0.7请删除自己填写的默认，或为了兼容不同版本默认值请填写为 “sg-defaultConfig-remove”</font>


**1.0.6.1007 开始需要后台新增的配置参数如下:**
```
// 无sg-defaultConfig-remove标识，且不用此功能可以不用填写

// 广告组参数
adInterstitialId           : your_value,
adRewardId                 : your_value,
adBannerId                 : your_value,
// facebook组参数
facebookAppId              : your_value/sg-defaultConfig-remove,
facebookAppName            : your_value/sg-defaultConfig-remove,
facebookLoginProtocolScheme: your_value/sg-defaultConfig-remove,
// google组参数
googleServerClientId       : your_value,
// google-admob组参数
googleAdmobAppid           : your_value/sg-defaultConfig-remove,
// 其他单独参数
flurryApiKey               : your_value/sg-defaultConfig-remove,
applovinKey                : your_value/sg-defaultConfig-remove,
oppoAppKey                 : your_value,
```

### 3.2 参数替换
> 通常一个包名对应一套参数，特别是google、facebook之类的三方sdk。

- 如果不需要QA验证，同时只是替换 sgsdk_config.properties 文件内的参数，那么保证参数正确的前提，可以不用打包，而由接入人员直接替换 sgsdk_config.properties 文件，而后进行游戏测试。
- 替换三方sdk的参数，请按流程：旧参数怎么生成、配置的，新参数请按原流血也怎么生成、配置，而后替换相应节点。

### 3.3 产物内容
需求方可以对比下，zip里 sgsdk_config.properties 文件内的参数是否与自己应用一致
```
+--- sgsdk-android-zip
|    \--- sdk_gradle_file
|         +--- app
|              +--- src/main/assets/sgsdk_config.properties // 参数配置文件
|              +--- src/main/assets/sgsdk_project_config.properties // 模块加载配置文件
|              +--- build.gradle      // SDK 基本依赖配置
|              +--- kssgconfig.gradle // SDK 依赖配置文件
|         +--- build.gradle
|         +--- settings.gradle
|    \--- sgsdk-android-demo.apk // demo apk
|    \--- sgsdk-android-demo.zip // demo 源码
|    \--- sgsdk_android_docs.md  // 接入文档
```

### 3.4 渠道马甲
想用某个已有的渠道A配置，换成另一个渠道B名字。在进行配置时，还得用A的标准配置进行参数配置，区分用应用名称、appid。
举例：想把原来的 googleplay 渠道包，换一套渠道参数后发布的 X渠道；对于 SGSDK 来说，本身是没有名为 X渠道 的渠道包，实际上他还是 googleplay 渠道包的功能。此时你可以在后台新建一个应用 X渠道，但是设置渠道参数时，使用 googleplay 的标准参数进行配置，查询区分使用应用名称、appid。